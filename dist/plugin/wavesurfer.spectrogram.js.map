{"version":3,"sources":["webpack://WaveSurfer.[name]/webpack/universalModuleDefinition","webpack://WaveSurfer.[name]/webpack/bootstrap","webpack://WaveSurfer.[name]/./src/plugin/spectrogram.js"],"names":["FFT","bufferSize","sampleRate","windowFunc","alpha","bandwidth","sinTable","Float32Array","cosTable","windowValues","reverseTable","Uint32Array","peakBand","peak","i","Math","abs","cos","PI","pow","E","undefined","sin","Error","limit","bit","calculateSpectrum","buffer","real","imag","bSi","sqrt","rval","ival","mag","spectrum","k","floor","log","LN2","length","halfSize","phaseShiftStepReal","phaseShiftStepImag","currentPhaseShiftReal","currentPhaseShiftImag","off","tr","ti","tmpReal","fftStep","N","SpectrogramPlugin","params","name","deferInit","staticProps","instance","ws","wavesurfer","util","frequenciesDataUrl","_onScroll","e","updateScroll","_onRender","render","_onWrapperClick","_wrapperClickHandler","_onReady","drawer","container","document","querySelector","colorMap","cmEntry","val","push","width","pixelRatio","fftSamples","height","noverlap","createWrapper","createCanvas","wrapper","addEventListener","on","isReady","once","unAll","un","removeEventListener","parentNode","removeChild","prevSpectrogram","wsParams","createElement","labels","labelsEl","classList","add","style","left","position","zIndex","appendChild","loadLabels","display","userSelect","webkitUserSelect","fillParent","scrollParent","overflowX","overflowY","event","preventDefault","relX","offsetX","layerX","fireEvent","scrollWidth","canvas","spectrCc","getContext","updateCanvasStyle","loadFrequenciesData","getFrequencies","drawSpectrogram","round","frequenciesData","my","backend","getDuration","pixels","resample","heightFactor","numberOfChannels","j","fillStyle","fillRect","callback","channelOne","getChannelData","bufferLength","frequencies","uniqueSamplesPerPx","max","fft","maxSlicesCount","currentOffset","segment","slice","array","Uint8Array","log10","url","ajax","data","JSON","parse","target","statusText","freq","toFixed","bgFill","fontSizeFreq","fontSizeUnit","fontType","textColorFreq","textColorUnit","textAlign","frequenciesHeight","getMaxY","labelIndex","freqStart","step","ac","ctx","fill","textBaseline","index","label","freqType","units","unitType","x","yLabelOffset","font","fillText","scrollLeft","oldMatrix","columnsNumber","newMatrix","oldPiece","newPiece","column","Array","oldStart","oldEnd","newStart","newEnd","overlap","min","intColumn","m"],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C;AAC/C,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;AClFA;;;;AAGA;AACA,IAAMA,GAAG,GAAG,SAANA,GAAM,CAASC,UAAT,EAAqBC,UAArB,EAAiCC,UAAjC,EAA6CC,KAA7C,EAAoD;AAC5D,OAAKH,UAAL,GAAkBA,UAAlB;AACA,OAAKC,UAAL,GAAkBA,UAAlB;AACA,OAAKG,SAAL,GAAkB,IAAIJ,UAAL,IAAoBC,UAAU,GAAG,CAAjC,CAAjB;AAEA,OAAKI,QAAL,GAAgB,IAAIC,YAAJ,CAAiBN,UAAjB,CAAhB;AACA,OAAKO,QAAL,GAAgB,IAAID,YAAJ,CAAiBN,UAAjB,CAAhB;AACA,OAAKQ,YAAL,GAAoB,IAAIF,YAAJ,CAAiBN,UAAjB,CAApB;AACA,OAAKS,YAAL,GAAoB,IAAIC,WAAJ,CAAgBV,UAAhB,CAApB;AAEA,OAAKW,QAAL,GAAgB,CAAhB;AACA,OAAKC,IAAL,GAAY,CAAZ;AAEA,MAAIC,CAAJ;;AACA,UAAQX,UAAR;AACI,SAAK,UAAL;AACI,WAAKW,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGb,UAAhB,EAA4Ba,CAAC,EAA7B,EAAiC;AAC7B,aAAKL,YAAL,CAAkBK,CAAlB,IACK,KAAKb,UAAU,GAAG,CAAlB,CAAD,IACC,CAACA,UAAU,GAAG,CAAd,IAAmB,CAAnB,GAAuBc,IAAI,CAACC,GAAL,CAASF,CAAC,GAAG,CAACb,UAAU,GAAG,CAAd,IAAmB,CAAhC,CADxB,CADJ;AAGH;;AACD;;AACJ,SAAK,cAAL;AACI,WAAKa,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGb,UAAhB,EAA4Ba,CAAC,EAA7B,EAAiC;AAC7B,aAAKL,YAAL,CAAkBK,CAAlB,IACI,OACA,OAAOC,IAAI,CAACC,GAAL,CAASF,CAAC,IAAIb,UAAU,GAAG,CAAjB,CAAD,GAAuB,GAAhC,CADP,GAEA,OAAOc,IAAI,CAACE,GAAL,CAAUF,IAAI,CAACG,EAAL,GAAU,CAAV,GAAcJ,CAAf,IAAqBb,UAAU,GAAG,CAAlC,CAAT,CAHX;AAIH;;AACD;;AACJ,SAAK,UAAL;AACIG,WAAK,GAAGA,KAAK,IAAI,IAAjB;;AACA,WAAKU,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGb,UAAhB,EAA4Ba,CAAC,EAA7B,EAAiC;AAC7B,aAAKL,YAAL,CAAkBK,CAAlB,IACI,CAAC,IAAIV,KAAL,IAAc,CAAd,GACA,MAAMW,IAAI,CAACE,GAAL,CAAUF,IAAI,CAACG,EAAL,GAAU,CAAV,GAAcJ,CAAf,IAAqBb,UAAU,GAAG,CAAlC,CAAT,CADN,GAECG,KAAK,GAAG,CAAT,GACIW,IAAI,CAACE,GAAL,CAAU,IAAIF,IAAI,CAACG,EAAT,GAAcJ,CAAf,IAAqBb,UAAU,GAAG,CAAlC,CAAT,CAJR;AAKH;;AACD;;AACJ,SAAK,QAAL;AACI,WAAKa,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGb,UAAhB,EAA4Ba,CAAC,EAA7B,EAAiC;AAC7B,aAAKL,YAAL,CAAkBK,CAAlB,IAAuBC,IAAI,CAACE,GAAL,CAClBF,IAAI,CAACG,EAAL,GAAUJ,CAAX,IAAiBb,UAAU,GAAG,CAA9B,IAAmCc,IAAI,CAACG,EAAL,GAAU,CAD1B,CAAvB;AAGH;;AACD;;AACJ,SAAK,OAAL;AACId,WAAK,GAAGA,KAAK,IAAI,IAAjB;;AACA,WAAKU,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGb,UAAhB,EAA4Ba,CAAC,EAA7B,EAAiC;AAC7B,aAAKL,YAAL,CAAkBK,CAAlB,IAAuBC,IAAI,CAACI,GAAL,CACnBJ,IAAI,CAACK,CADc,EAEnB,CAAC,GAAD,GACIL,IAAI,CAACI,GAAL,CACI,CAACL,CAAC,GAAG,CAACb,UAAU,GAAG,CAAd,IAAmB,CAAxB,KACMG,KAAK,IAAIH,UAAU,GAAG,CAAjB,CAAN,GAA6B,CADlC,CADJ,EAGI,CAHJ,CAHe,CAAvB;AASH;;AACD;;AACJ,SAAK,SAAL;AACI,WAAKa,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGb,UAAhB,EAA4Ba,CAAC,EAA7B,EAAiC;AAC7B,aAAKL,YAAL,CAAkBK,CAAlB,IACI,CAAC,OAAO,IAAR,IACAC,IAAI,CAACE,GAAL,CAAUF,IAAI,CAACG,EAAL,GAAU,CAAV,GAAcJ,CAAf,IAAqBb,UAAU,GAAG,CAAlC,CAAT,CAFJ;AAGH;;AACD;;AACJ,SAAK,MAAL;AACA,SAAKoB,SAAL;AACI,WAAKP,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGb,UAAhB,EAA4Ba,CAAC,EAA7B,EAAiC;AAC7B,aAAKL,YAAL,CAAkBK,CAAlB,IACI,OAAO,IAAIC,IAAI,CAACE,GAAL,CAAUF,IAAI,CAACG,EAAL,GAAU,CAAV,GAAcJ,CAAf,IAAqBb,UAAU,GAAG,CAAlC,CAAT,CAAX,CADJ;AAEH;;AACD;;AACJ,SAAK,SAAL;AACI,WAAKa,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGb,UAAhB,EAA4Ba,CAAC,EAA7B,EAAiC;AAC7B,aAAKL,YAAL,CAAkBK,CAAlB,IACIC,IAAI,CAACO,GAAL,CAASP,IAAI,CAACG,EAAL,IAAY,IAAIJ,CAAL,IAAWb,UAAU,GAAG,CAAxB,IAA6B,CAAxC,CAAT,KACCc,IAAI,CAACG,EAAL,IAAY,IAAIJ,CAAL,IAAWb,UAAU,GAAG,CAAxB,IAA6B,CAAxC,CADD,CADJ;AAGH;;AACD;;AACJ,SAAK,aAAL;AACI,WAAKa,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGb,UAAhB,EAA4Ba,CAAC,EAA7B,EAAiC;AAC7B,aAAKL,YAAL,CAAkBK,CAAlB,IAAuB,CAAvB;AACH;;AACD;;AACJ,SAAK,YAAL;AACI,WAAKA,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGb,UAAhB,EAA4Ba,CAAC,EAA7B,EAAiC;AAC7B,aAAKL,YAAL,CAAkBK,CAAlB,IACK,IAAIb,UAAL,IACCA,UAAU,GAAG,CAAb,GAAiBc,IAAI,CAACC,GAAL,CAASF,CAAC,GAAG,CAACb,UAAU,GAAG,CAAd,IAAmB,CAAhC,CADlB,CADJ;AAGH;;AACD;;AACJ;AACI,YAAMsB,KAAK,CAAC,8BAA8BpB,UAA9B,GAA2C,GAA5C,CAAX;AAjFR;;AAoFA,MAAIqB,KAAK,GAAG,CAAZ;AACA,MAAIC,GAAG,GAAGxB,UAAU,IAAI,CAAxB;AACA,MAAIa,CAAJ;;AAEA,SAAOU,KAAK,GAAGvB,UAAf,EAA2B;AACvB,SAAKa,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGU,KAAhB,EAAuBV,CAAC,EAAxB,EAA4B;AACxB,WAAKJ,YAAL,CAAkBI,CAAC,GAAGU,KAAtB,IAA+B,KAAKd,YAAL,CAAkBI,CAAlB,IAAuBW,GAAtD;AACH;;AAEDD,SAAK,GAAGA,KAAK,IAAI,CAAjB;AACAC,OAAG,GAAGA,GAAG,IAAI,CAAb;AACH;;AAED,OAAKX,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGb,UAAhB,EAA4Ba,CAAC,EAA7B,EAAiC;AAC7B,SAAKR,QAAL,CAAcQ,CAAd,IAAmBC,IAAI,CAACO,GAAL,CAAS,CAACP,IAAI,CAACG,EAAN,GAAWJ,CAApB,CAAnB;AACA,SAAKN,QAAL,CAAcM,CAAd,IAAmBC,IAAI,CAACE,GAAL,CAAS,CAACF,IAAI,CAACG,EAAN,GAAWJ,CAApB,CAAnB;AACH;;AAED,OAAKY,iBAAL,GAAyB,UAASC,MAAT,EAAiB;AACtC;AACA,QAAI1B,UAAU,GAAG,KAAKA,UAAtB;AAAA,QACIO,QAAQ,GAAG,KAAKA,QADpB;AAAA,QAEIF,QAAQ,GAAG,KAAKA,QAFpB;AAAA,QAGII,YAAY,GAAG,KAAKA,YAHxB;AAAA,QAIIkB,IAAI,GAAG,IAAIrB,YAAJ,CAAiBN,UAAjB,CAJX;AAAA,QAKI4B,IAAI,GAAG,IAAItB,YAAJ,CAAiBN,UAAjB,CALX;AAAA,QAMI6B,GAAG,GAAG,IAAI,KAAK7B,UANnB;AAAA,QAOI8B,IAAI,GAAGhB,IAAI,CAACgB,IAPhB;AAAA,QAQIC,IARJ;AAAA,QASIC,IATJ;AAAA,QAUIC,GAVJ;AAAA,QAWIC,QAAQ,GAAG,IAAI5B,YAAJ,CAAiBN,UAAU,GAAG,CAA9B,CAXf;AAaA,QAAImC,CAAC,GAAGrB,IAAI,CAACsB,KAAL,CAAWtB,IAAI,CAACuB,GAAL,CAASrC,UAAT,IAAuBc,IAAI,CAACwB,GAAvC,CAAR;;AAEA,QAAIxB,IAAI,CAACI,GAAL,CAAS,CAAT,EAAYiB,CAAZ,MAAmBnC,UAAvB,EAAmC;AAC/B,YAAM,4CAAN;AACH;;AACD,QAAIA,UAAU,KAAK0B,MAAM,CAACa,MAA1B,EAAkC;AAC9B,YAAM,oEACFvC,UADE,GAEF,gBAFE,GAGF0B,MAAM,CAACa,MAHX;AAIH;;AAED,QAAIC,QAAQ,GAAG,CAAf;AAAA,QACIC,kBADJ;AAAA,QAEIC,kBAFJ;AAAA,QAGIC,qBAHJ;AAAA,QAIIC,qBAJJ;AAAA,QAKIC,GALJ;AAAA,QAMIC,EANJ;AAAA,QAOIC,EAPJ;AAAA,QAQIC,OARJ;;AAUA,SAAK,IAAInC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGb,UAApB,EAAgCa,CAAC,EAAjC,EAAqC;AACjCc,UAAI,CAACd,CAAD,CAAJ,GACIa,MAAM,CAACjB,YAAY,CAACI,CAAD,CAAb,CAAN,GAA0B,KAAKL,YAAL,CAAkBC,YAAY,CAACI,CAAD,CAA9B,CAD9B;AAEAe,UAAI,CAACf,CAAD,CAAJ,GAAU,CAAV;AACH;;AAED,WAAO2B,QAAQ,GAAGxC,UAAlB,EAA8B;AAC1ByC,wBAAkB,GAAGlC,QAAQ,CAACiC,QAAD,CAA7B;AACAE,wBAAkB,GAAGrC,QAAQ,CAACmC,QAAD,CAA7B;AAEAG,2BAAqB,GAAG,CAAxB;AACAC,2BAAqB,GAAG,CAAxB;;AAEA,WAAK,IAAIK,OAAO,GAAG,CAAnB,EAAsBA,OAAO,GAAGT,QAAhC,EAA0CS,OAAO,EAAjD,EAAqD;AACjD,YAAIpC,CAAC,GAAGoC,OAAR;;AAEA,eAAOpC,CAAC,GAAGb,UAAX,EAAuB;AACnB6C,aAAG,GAAGhC,CAAC,GAAG2B,QAAV;AACAM,YAAE,GACEH,qBAAqB,GAAGhB,IAAI,CAACkB,GAAD,CAA5B,GACAD,qBAAqB,GAAGhB,IAAI,CAACiB,GAAD,CAFhC;AAGAE,YAAE,GACEJ,qBAAqB,GAAGf,IAAI,CAACiB,GAAD,CAA5B,GACAD,qBAAqB,GAAGjB,IAAI,CAACkB,GAAD,CAFhC;AAIAlB,cAAI,CAACkB,GAAD,CAAJ,GAAYlB,IAAI,CAACd,CAAD,CAAJ,GAAUiC,EAAtB;AACAlB,cAAI,CAACiB,GAAD,CAAJ,GAAYjB,IAAI,CAACf,CAAD,CAAJ,GAAUkC,EAAtB;AACApB,cAAI,CAACd,CAAD,CAAJ,IAAWiC,EAAX;AACAlB,cAAI,CAACf,CAAD,CAAJ,IAAWkC,EAAX;AAEAlC,WAAC,IAAI2B,QAAQ,IAAI,CAAjB;AACH;;AAEDQ,eAAO,GAAGL,qBAAV;AACAA,6BAAqB,GACjBK,OAAO,GAAGP,kBAAV,GACAG,qBAAqB,GAAGF,kBAF5B;AAGAE,6BAAqB,GACjBI,OAAO,GAAGN,kBAAV,GACAE,qBAAqB,GAAGH,kBAF5B;AAGH;;AAEDD,cAAQ,GAAGA,QAAQ,IAAI,CAAvB;AACH;;AAED,SAAK,IAAI3B,CAAC,GAAG,CAAR,EAAWqC,CAAC,GAAGlD,UAAU,GAAG,CAAjC,EAAoCa,CAAC,GAAGqC,CAAxC,EAA2CrC,CAAC,EAA5C,EAAgD;AAC5CkB,UAAI,GAAGJ,IAAI,CAACd,CAAD,CAAX;AACAmB,UAAI,GAAGJ,IAAI,CAACf,CAAD,CAAX;AACAoB,SAAG,GAAGJ,GAAG,GAAGC,IAAI,CAACC,IAAI,GAAGA,IAAP,GAAcC,IAAI,GAAGA,IAAtB,CAAhB;;AAEA,UAAIC,GAAG,GAAG,KAAKrB,IAAf,EAAqB;AACjB,aAAKD,QAAL,GAAgBE,CAAhB;AACA,aAAKD,IAAL,GAAYqB,GAAZ;AACH;;AACDC,cAAQ,CAACrB,CAAD,CAAR,GAAcoB,GAAd;AACH;;AACD,WAAOC,QAAP;AACH,GA9FD;AA+FH,CAnND;AAoNA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;AAwBA;;;;;;;;;;;;;;;;;;;;;;;;;;;IAyBqBiB,iB;;;;;;AACjB;;;;;;;;;2BAScC,M,EAAQ;AAClB,aAAO;AACHC,YAAI,EAAE,aADH;AAEHC,iBAAS,EAAEF,MAAM,IAAIA,MAAM,CAACE,SAAjB,GAA6BF,MAAM,CAACE,SAApC,GAAgD,KAFxD;AAGHF,cAAM,EAAEA,MAHL;AAIHG,mBAAW,EAAE;AACTxD,aAAG,EAAEA;AADI,SAJV;AAOHyD,gBAAQ,EAAEL;AAPP,OAAP;AASH;;;AAED,6BAAYC,MAAZ,EAAoBK,EAApB,EAAwB;AAAA;;AAAA;;AACpB,SAAKL,MAAL,GAAcA,MAAd;AACA,SAAKM,UAAL,GAAkBD,EAAlB;AACA,SAAKE,IAAL,GAAYF,EAAE,CAACE,IAAf;AAEA,SAAKC,kBAAL,GAA0BR,MAAM,CAACQ,kBAAjC;;AACA,SAAKC,SAAL,GAAiB,UAAAC,CAAC,EAAI;AAClB,WAAI,CAACC,YAAL,CAAkBD,CAAlB;AACH,KAFD;;AAGA,SAAKE,SAAL,GAAiB,YAAM;AACnB,WAAI,CAACC,MAAL;AACH,KAFD;;AAGA,SAAKC,eAAL,GAAuB,UAAAJ,CAAC,EAAI;AACxB,WAAI,CAACK,oBAAL,CAA0BL,CAA1B;AACH,KAFD;;AAGA,SAAKM,QAAL,GAAgB,YAAM;AAClB,UAAMC,MAAM,GAAI,KAAI,CAACA,MAAL,GAAcZ,EAAE,CAACY,MAAjC;AAEA,WAAI,CAACC,SAAL,GACI,YAAY,OAAOlB,MAAM,CAACkB,SAA1B,GACMC,QAAQ,CAACC,aAAT,CAAuBpB,MAAM,CAACkB,SAA9B,CADN,GAEMlB,MAAM,CAACkB,SAHjB;;AAKA,UAAI,CAAC,KAAI,CAACA,SAAV,EAAqB;AACjB,cAAMhD,KAAK,CAAC,yCAAD,CAAX;AACH;;AACD,UAAI8B,MAAM,CAACqB,QAAX,EAAqB;AACjB,YAAIrB,MAAM,CAACqB,QAAP,CAAgBlC,MAAhB,GAAyB,GAA7B,EAAkC;AAC9B,gBAAM,IAAIjB,KAAJ,CAAU,oCAAV,CAAN;AACH;;AACD,aAAK,IAAIT,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGuC,MAAM,CAACqB,QAAP,CAAgBlC,MAApC,EAA4C1B,CAAC,EAA7C,EAAiD;AAC7C,cAAM6D,OAAO,GAAGtB,MAAM,CAACqB,QAAP,CAAgB5D,CAAhB,CAAhB;;AACA,cAAI6D,OAAO,CAACnC,MAAR,KAAmB,CAAvB,EAA0B;AACtB,kBAAM,IAAIjB,KAAJ,CACF,wCADE,CAAN;AAGH;AACJ;;AACD,aAAI,CAACmD,QAAL,GAAgBrB,MAAM,CAACqB,QAAvB;AACH,OAbD,MAaO;AACH,aAAI,CAACA,QAAL,GAAgB,EAAhB;;AACA,aAAK,IAAI5D,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAG,GAApB,EAAyBA,EAAC,EAA1B,EAA8B;AAC1B,cAAM8D,GAAG,GAAG,CAAC,MAAM9D,EAAP,IAAY,GAAxB;;AACA,eAAI,CAAC4D,QAAL,CAAcG,IAAd,CAAmB,CAACD,GAAD,EAAMA,GAAN,EAAWA,GAAX,EAAgB,CAAhB,CAAnB;AACH;AACJ;;AACD,WAAI,CAACE,KAAL,GAAaR,MAAM,CAACQ,KAApB;AACA,WAAI,CAACC,UAAL,GAAkB,KAAI,CAAC1B,MAAL,CAAY0B,UAAZ,IAA0BrB,EAAE,CAACL,MAAH,CAAU0B,UAAtD;AACA,WAAI,CAACC,UAAL,GACI,KAAI,CAAC3B,MAAL,CAAY2B,UAAZ,IAA0BtB,EAAE,CAACL,MAAH,CAAU2B,UAApC,IAAkD,GADtD;AAEA,WAAI,CAACC,MAAL,GAAc,KAAI,CAACD,UAAL,GAAkB,CAAhC;AACA,WAAI,CAACE,QAAL,GAAgB7B,MAAM,CAAC6B,QAAvB;AACA,WAAI,CAAC/E,UAAL,GAAkBkD,MAAM,CAAClD,UAAzB;AACA,WAAI,CAACC,KAAL,GAAaiD,MAAM,CAACjD,KAApB;;AAEA,WAAI,CAAC+E,aAAL;;AACA,WAAI,CAACC,YAAL;;AACA,WAAI,CAAClB,MAAL;;AAEAI,YAAM,CAACe,OAAP,CAAeC,gBAAf,CAAgC,QAAhC,EAA0C,KAAI,CAACxB,SAA/C;AACAJ,QAAE,CAAC6B,EAAH,CAAM,QAAN,EAAgB,KAAI,CAACtB,SAArB;AACH,KA9CD;AA+CH;;;;2BAEM;AACH;AACA,UAAI,KAAKN,UAAL,CAAgB6B,OAApB,EAA6B;AACzB,aAAKnB,QAAL;AACH,OAFD,MAEO;AACH,aAAKV,UAAL,CAAgB8B,IAAhB,CAAqB,OAArB,EAA8B,KAAKpB,QAAnC;AACH;AACJ;;;8BAES;AACN,WAAKqB,KAAL;AACA,WAAK/B,UAAL,CAAgBgC,EAAhB,CAAmB,OAAnB,EAA4B,KAAKtB,QAAjC;AACA,WAAKV,UAAL,CAAgBgC,EAAhB,CAAmB,QAAnB,EAA6B,KAAK1B,SAAlC;AACA,WAAKK,MAAL,CAAYe,OAAZ,CAAoBO,mBAApB,CAAwC,QAAxC,EAAkD,KAAK9B,SAAvD;AACA,WAAKH,UAAL,GAAkB,IAAlB;AACA,WAAKC,IAAL,GAAY,IAAZ;AACA,WAAKP,MAAL,GAAc,IAAd;;AACA,UAAI,KAAKgC,OAAT,EAAkB;AACd,aAAKA,OAAL,CAAaO,mBAAb,CAAiC,OAAjC,EAA0C,KAAKzB,eAA/C;AACA,aAAKkB,OAAL,CAAaQ,UAAb,CAAwBC,WAAxB,CAAoC,KAAKT,OAAzC;AACA,aAAKA,OAAL,GAAe,IAAf;AACH;AACJ;;;oCAEe;AACZ,UAAMU,eAAe,GAAG,KAAKxB,SAAL,CAAeE,aAAf,CAA6B,aAA7B,CAAxB;;AACA,UAAIsB,eAAJ,EAAqB;AACjB,aAAKxB,SAAL,CAAeuB,WAAf,CAA2BC,eAA3B;AACH;;AACD,UAAMC,QAAQ,GAAG,KAAKrC,UAAL,CAAgBN,MAAjC;AACA,WAAKgC,OAAL,GAAeb,QAAQ,CAACyB,aAAT,CAAuB,aAAvB,CAAf,CANY,CAOZ;;AACA,UAAI,KAAK5C,MAAL,CAAY6C,MAAhB,EAAwB;AACpB,YAAMC,QAAQ,GAAI,KAAKA,QAAL,GAAgB3B,QAAQ,CAACyB,aAAT,CAAuB,QAAvB,CAAlC;AACAE,gBAAQ,CAACC,SAAT,CAAmBC,GAAnB,CAAuB,aAAvB;AACA,aAAK/B,MAAL,CAAYgC,KAAZ,CAAkBH,QAAlB,EAA4B;AACxBI,cAAI,EAAE,CADkB;AAExBC,kBAAQ,EAAE,UAFc;AAGxBC,gBAAM,EAAE,CAHgB;AAIxBxB,gBAAM,YAAK,KAAKA,MAAL,GAAc,KAAKF,UAAxB,OAJkB;AAKxBD,eAAK,YAAK,KAAK,KAAKC,UAAf;AALmB,SAA5B;AAOA,aAAKM,OAAL,CAAaqB,WAAb,CAAyBP,QAAzB;AACA,aAAKQ,UAAL,CACI,oBADJ,EAEI,MAFJ,EAGI,MAHJ,EAII,EAJJ,EAKI,MALJ,EAMI,SANJ,EAOI,QAPJ,EAQI,aARJ;AAUH;;AAED,WAAKrC,MAAL,CAAYgC,KAAZ,CAAkB,KAAKjB,OAAvB,EAAgC;AAC5BuB,eAAO,EAAE,OADmB;AAE5BJ,gBAAQ,EAAE,UAFkB;AAG5BK,kBAAU,EAAE,MAHgB;AAI5BC,wBAAgB,EAAE,MAJU;AAK5B7B,cAAM,YAAK,KAAKA,MAAL,GAAc,KAAKF,UAAxB;AALsB,OAAhC;;AAQA,UAAIiB,QAAQ,CAACe,UAAT,IAAuBf,QAAQ,CAACgB,YAApC,EAAkD;AAC9C,aAAK1C,MAAL,CAAYgC,KAAZ,CAAkB,KAAKjB,OAAvB,EAAgC;AAC5BP,eAAK,EAAE,MADqB;AAE5BmC,mBAAS,EAAE,QAFiB;AAG5BC,mBAAS,EAAE;AAHiB,SAAhC;AAKH;;AACD,WAAK3C,SAAL,CAAemC,WAAf,CAA2B,KAAKrB,OAAhC;AAEA,WAAKA,OAAL,CAAaC,gBAAb,CAA8B,OAA9B,EAAuC,KAAKnB,eAA5C;AACH;;;yCAEoBgD,K,EAAO;AACxBA,WAAK,CAACC,cAAN;AAEA,UAAMC,IAAI,GAAG,aAAaF,KAAb,GAAqBA,KAAK,CAACG,OAA3B,GAAqCH,KAAK,CAACI,MAAxD;AACA,WAAKC,SAAL,CAAe,OAAf,EAAwBH,IAAI,GAAG,KAAKI,WAAZ,IAA2B,CAAnD;AACH;;;mCAEc;AACX,UAAMC,MAAM,GAAI,KAAKA,MAAL,GAAc,KAAKrC,OAAL,CAAaqB,WAAb,CAC1BlC,QAAQ,CAACyB,aAAT,CAAuB,QAAvB,CAD0B,CAA9B;AAIA,WAAK0B,QAAL,GAAgBD,MAAM,CAACE,UAAP,CAAkB,IAAlB,CAAhB;AAEA,WAAKhE,IAAL,CAAU0C,KAAV,CAAgBoB,MAAhB,EAAwB;AACpBlB,gBAAQ,EAAE,UADU;AAEpBC,cAAM,EAAE;AAFY,OAAxB;AAIH;;;6BAEQ;AACL,WAAKoB,iBAAL;;AAEA,UAAI,KAAKhE,kBAAT,EAA6B;AACzB,aAAKiE,mBAAL,CAAyB,KAAKjE,kBAA9B;AACH,OAFD,MAEO;AACH,aAAKkE,cAAL,CAAoB,KAAKC,eAAzB;AACH;AACJ;;;wCAEmB;AAChB,UAAMlD,KAAK,GAAG/D,IAAI,CAACkH,KAAL,CAAW,KAAKnD,KAAL,GAAa,KAAKC,UAA7B,IAA2C,IAAzD;AACA,WAAK2C,MAAL,CAAY5C,KAAZ,GAAoB,KAAKA,KAAzB;AACA,WAAK4C,MAAL,CAAYzC,MAAZ,GAAqB,KAAKA,MAA1B;AACA,WAAKyC,MAAL,CAAYpB,KAAZ,CAAkBxB,KAAlB,GAA0BA,KAA1B;AACH;;;oCAEeoD,e,EAAiBC,E,EAAI;AACjC,UAAMR,QAAQ,GAAGQ,EAAE,CAACR,QAApB;AACA,UAAMnF,MAAM,GAAG2F,EAAE,CAACxE,UAAH,CAAcyE,OAAd,CAAsBC,WAAtB,EAAf;AACA,UAAMpD,MAAM,GAAGkD,EAAE,CAAClD,MAAlB;AACA,UAAMqD,MAAM,GAAGH,EAAE,CAACI,QAAH,CAAYL,eAAZ,CAAf;AACA,UAAMM,YAAY,GAAGL,EAAE,CAACxG,MAAH,GAAY,IAAIwG,EAAE,CAACxG,MAAH,CAAU8G,gBAA1B,GAA6C,CAAlE;AACA,UAAI3H,CAAJ;AACA,UAAI4H,CAAJ;;AAEA,WAAK5H,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGwH,MAAM,CAAC9F,MAAvB,EAA+B1B,CAAC,EAAhC,EAAoC;AAChC,aAAK4H,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGJ,MAAM,CAACxH,CAAD,CAAN,CAAU0B,MAA1B,EAAkCkG,CAAC,EAAnC,EAAuC;AACnC,cAAMhE,QAAQ,GAAGyD,EAAE,CAACzD,QAAH,CAAY4D,MAAM,CAACxH,CAAD,CAAN,CAAU4H,CAAV,CAAZ,CAAjB;AACAP,YAAE,CAACR,QAAH,CAAYgB,SAAZ,GACI,UACAjE,QAAQ,CAAC,CAAD,CAAR,GAAc,GADd,GAEA,IAFA,GAGAA,QAAQ,CAAC,CAAD,CAAR,GAAc,GAHd,GAIA,IAJA,GAKAA,QAAQ,CAAC,CAAD,CAAR,GAAc,GALd,GAMA,GANA,GAOAA,QAAQ,CAAC,CAAD,CAPR,GAQA,GATJ;AAUAyD,YAAE,CAACR,QAAH,CAAYiB,QAAZ,CACI9H,CADJ,EAEImE,MAAM,GAAGyD,CAAC,GAAGF,YAFjB,EAGI,CAHJ,EAIIA,YAJJ;AAMH;AACJ;AACJ;;;mCAEcK,Q,EAAU;AACrB,UAAM7D,UAAU,GAAG,KAAKA,UAAxB;AACA,UAAMrD,MAAM,GAAI,KAAKA,MAAL,GAAc,KAAKgC,UAAL,CAAgByE,OAAhB,CAAwBzG,MAAtD;AACA,UAAMmH,UAAU,GAAGnH,MAAM,CAACoH,cAAP,CAAsB,CAAtB,CAAnB;AACA,UAAMC,YAAY,GAAGrH,MAAM,CAACa,MAA5B;AACA,UAAMtC,UAAU,GAAGyB,MAAM,CAACzB,UAA1B;AACA,UAAM+I,WAAW,GAAG,EAApB;;AAEA,UAAI,CAACtH,MAAL,EAAa;AACT,aAAK6F,SAAL,CAAe,OAAf,EAAwB,mCAAxB;AACA;AACH;;AAED,UAAItC,QAAQ,GAAG,KAAKA,QAApB;;AACA,UAAI,CAACA,QAAL,EAAe;AACX,YAAMgE,kBAAkB,GAAGvH,MAAM,CAACa,MAAP,GAAgB,KAAKkF,MAAL,CAAY5C,KAAvD;AACAI,gBAAQ,GAAGnE,IAAI,CAACoI,GAAL,CAAS,CAAT,EAAYpI,IAAI,CAACkH,KAAL,CAAWjD,UAAU,GAAGkE,kBAAxB,CAAZ,CAAX;AACH;;AAED,UAAME,GAAG,GAAG,IAAIpJ,GAAJ,CACRgF,UADQ,EAER9E,UAFQ,EAGR,KAAKC,UAHG,EAIR,KAAKC,KAJG,CAAZ;AAMA,UAAMiJ,cAAc,GAAGtI,IAAI,CAACsB,KAAL,CACnB2G,YAAY,IAAIhE,UAAU,GAAGE,QAAjB,CADO,CAAvB;AAGA,UAAIoE,aAAa,GAAG,CAApB;;AAEA,aAAOA,aAAa,GAAGtE,UAAhB,GAA6B8D,UAAU,CAACtG,MAA/C,EAAuD;AACnD,YAAM+G,OAAO,GAAGT,UAAU,CAACU,KAAX,CACZF,aADY,EAEZA,aAAa,GAAGtE,UAFJ,CAAhB;AAIA,YAAM7C,QAAQ,GAAGiH,GAAG,CAAC1H,iBAAJ,CAAsB6H,OAAtB,CAAjB;AACA,YAAME,KAAK,GAAG,IAAIC,UAAJ,CAAe1E,UAAU,GAAG,CAA5B,CAAd;AACA,YAAI0D,CAAC,SAAL;;AACA,aAAKA,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG1D,UAAU,GAAG,CAA7B,EAAgC0D,CAAC,EAAjC,EAAqC;AACjCe,eAAK,CAACf,CAAD,CAAL,GAAW3H,IAAI,CAACoI,GAAL,CAAS,CAAC,GAAV,EAAepI,IAAI,CAAC4I,KAAL,CAAWxH,QAAQ,CAACuG,CAAD,CAAnB,IAA0B,EAAzC,CAAX;AACH;;AACDO,mBAAW,CAACpE,IAAZ,CAAiB4E,KAAjB;AACAH,qBAAa,IAAItE,UAAU,GAAGE,QAA9B;AACH;;AACD2D,cAAQ,CAACI,WAAD,EAAc,IAAd,CAAR;AACH;;;wCAEmBW,G,EAAK;AAAA;;AACrB,UAAMC,IAAI,GAAG,KAAKjG,IAAL,CAAUiG,IAAV,CAAe;AAAED,WAAG,EAAEA;AAAP,OAAf,CAAb;AAEAC,UAAI,CAACtE,EAAL,CAAQ,SAAR,EAAmB,UAAAuE,IAAI;AAAA,eACnB,MAAI,CAAC9B,eAAL,CAAqB+B,IAAI,CAACC,KAAL,CAAWF,IAAX,CAArB,EAAuC,MAAvC,CADmB;AAAA,OAAvB;AAGAD,UAAI,CAACtE,EAAL,CAAQ,OAAR,EAAiB,UAAAxB,CAAC;AAAA,eACd,MAAI,CAACyD,SAAL,CAAe,OAAf,EAAwB,gBAAgBzD,CAAC,CAACkG,MAAF,CAASC,UAAjD,CADc;AAAA,OAAlB;AAIA,aAAOL,IAAP;AACH;;;6BAEQM,I,EAAM;AACX,aAAOA,IAAI,IAAI,IAAR,GAAe,CAACA,IAAI,GAAG,IAAR,EAAcC,OAAd,CAAsB,CAAtB,CAAf,GAA0CrJ,IAAI,CAACkH,KAAL,CAAWkC,IAAX,CAAjD;AACH;;;6BAEQA,I,EAAM;AACX,aAAOA,IAAI,IAAI,IAAR,GAAe,KAAf,GAAuB,IAA9B;AACH;;;+BAGGE,M,EACAC,Y,EACAC,Y,EACAC,Q,EACAC,a,EACAC,a,EACAC,S,EACApG,S,EACF;AACE,UAAMqG,iBAAiB,GAAG,KAAK3F,MAA/B;AACAoF,YAAM,GAAGA,MAAM,IAAI,kBAAnB;AACAC,kBAAY,GAAGA,YAAY,IAAI,MAA/B;AACAC,kBAAY,GAAGA,YAAY,IAAI,MAA/B;AACAC,cAAQ,GAAGA,QAAQ,IAAI,WAAvB;AACAC,mBAAa,GAAGA,aAAa,IAAI,MAAjC;AACAC,mBAAa,GAAGA,aAAa,IAAI,MAAjC;AACAC,eAAS,GAAGA,SAAS,IAAI,QAAzB;AACApG,eAAS,GAAGA,SAAS,IAAI,aAAzB;AACA,UAAMsG,OAAO,GAAGD,iBAAiB,IAAI,GAArC;AACA,UAAME,UAAU,GAAG,KAAKD,OAAO,GAAG,GAAf,CAAnB;AACA,UAAME,SAAS,GAAG,CAAlB;AACA,UAAMC,IAAI,GACN,CAAC,KAAKrH,UAAL,CAAgByE,OAAhB,CAAwB6C,EAAxB,CAA2B/K,UAA3B,GAAwC,CAAxC,GAA4C6K,SAA7C,IACAD,UAFJ;AAIA,UAAMI,GAAG,GAAG,KAAK/E,QAAL,CAAcyB,UAAd,CAAyB,IAAzB,CAAZ;AACA,WAAKzB,QAAL,CAAclB,MAAd,GAAuB,KAAKA,MAA5B;AACA,WAAKkB,QAAL,CAAcrB,KAAd,GAAsB,EAAtB;AAEAoG,SAAG,CAACvC,SAAJ,GAAgB0B,MAAhB;AACAa,SAAG,CAACtC,QAAJ,CAAa,CAAb,EAAgB,CAAhB,EAAmB,EAAnB,EAAuBiC,OAAvB;AACAK,SAAG,CAACC,IAAJ;AACA,UAAIrK,CAAJ;;AAEA,WAAKA,CAAC,GAAG,CAAT,EAAYA,CAAC,IAAIgK,UAAjB,EAA6BhK,CAAC,EAA9B,EAAkC;AAC9BoK,WAAG,CAACP,SAAJ,GAAgBA,SAAhB;AACAO,WAAG,CAACE,YAAJ,GAAmB,QAAnB;AAEA,YAAMjB,IAAI,GAAGY,SAAS,GAAGC,IAAI,GAAGlK,CAAhC;AACA,YAAMuK,KAAK,GAAGtK,IAAI,CAACkH,KAAL,CACTkC,IAAI,IAAI,KAAKjK,UAAL,GAAkB,CAAtB,CAAL,GAAiC,KAAK8E,UAD5B,CAAd;AAGA,YAAMsG,KAAK,GAAG,KAAKC,QAAL,CAAcpB,IAAd,CAAd;AACA,YAAMqB,KAAK,GAAG,KAAKC,QAAL,CAActB,IAAd,CAAd;AACA,YAAMuB,CAAC,GAAG,EAAV;AACA,YAAMC,YAAY,GAAG,CAArB;;AAEA,YAAI7K,CAAC,IAAI,CAAT,EAAY;AACRoK,aAAG,CAACvC,SAAJ,GAAgB+B,aAAhB;AACAQ,aAAG,CAACU,IAAJ,GAAWrB,YAAY,GAAG,GAAf,GAAqBC,QAAhC;AACAU,aAAG,CAACW,QAAJ,CAAaL,KAAb,EAAoBE,CAAC,GAAG,EAAxB,EAA4Bb,OAAO,GAAG/J,CAAV,GAAc,EAA1C;AACAoK,aAAG,CAACvC,SAAJ,GAAgB8B,aAAhB;AACAS,aAAG,CAACU,IAAJ,GAAWtB,YAAY,GAAG,GAAf,GAAqBE,QAAhC;AACAU,aAAG,CAACW,QAAJ,CAAaP,KAAb,EAAoBI,CAApB,EAAuBb,OAAO,GAAG/J,CAAV,GAAc,EAArC;AACH,SAPD,MAOO;AACHoK,aAAG,CAACvC,SAAJ,GAAgB+B,aAAhB;AACAQ,aAAG,CAACU,IAAJ,GAAWrB,YAAY,GAAG,GAAf,GAAqBC,QAAhC;AACAU,aAAG,CAACW,QAAJ,CAAaL,KAAb,EAAoBE,CAAC,GAAG,EAAxB,EAA4Bb,OAAO,GAAG/J,CAAC,GAAG,EAAd,GAAmB6K,YAA/C;AACAT,aAAG,CAACvC,SAAJ,GAAgB8B,aAAhB;AACAS,aAAG,CAACU,IAAJ,GAAWtB,YAAY,GAAG,GAAf,GAAqBE,QAAhC;AACAU,aAAG,CAACW,QAAJ,CAAaP,KAAb,EAAoBI,CAApB,EAAuBb,OAAO,GAAG/J,CAAC,GAAG,EAAd,GAAmB6K,YAA1C;AACH;AACJ;AACJ;;;iCAEY5H,C,EAAG;AACZ,UAAI,KAAKsB,OAAT,EAAkB;AACd,aAAKA,OAAL,CAAayG,UAAb,GAA0B/H,CAAC,CAACkG,MAAF,CAAS6B,UAAnC;AACH;AACJ;;;6BAEQC,S,EAAW;AAChB,UAAMC,aAAa,GAAG,KAAKlH,KAA3B;AACA,UAAMmH,SAAS,GAAG,EAAlB;AAEA,UAAMC,QAAQ,GAAG,IAAIH,SAAS,CAACvJ,MAA/B;AACA,UAAM2J,QAAQ,GAAG,IAAIH,aAArB;AACA,UAAIlL,CAAJ;;AAEA,WAAKA,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGkL,aAAhB,EAA+BlL,CAAC,EAAhC,EAAoC;AAChC,YAAMsL,MAAM,GAAG,IAAIC,KAAJ,CAAUN,SAAS,CAAC,CAAD,CAAT,CAAavJ,MAAvB,CAAf;AACA,YAAIkG,CAAC,SAAL;;AAEA,aAAKA,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGqD,SAAS,CAACvJ,MAA1B,EAAkCkG,CAAC,EAAnC,EAAuC;AACnC,cAAM4D,QAAQ,GAAG5D,CAAC,GAAGwD,QAArB;AACA,cAAMK,MAAM,GAAGD,QAAQ,GAAGJ,QAA1B;AACA,cAAMM,QAAQ,GAAG1L,CAAC,GAAGqL,QAArB;AACA,cAAMM,MAAM,GAAGD,QAAQ,GAAGL,QAA1B;AAEA,cAAMO,OAAO,GACTH,MAAM,IAAIC,QAAV,IAAsBC,MAAM,IAAIH,QAAhC,GACM,CADN,GAEMvL,IAAI,CAAC4L,GAAL,CACI5L,IAAI,CAACoI,GAAL,CAASoD,MAAT,EAAiBC,QAAjB,CADJ,EAEIzL,IAAI,CAACoI,GAAL,CAASsD,MAAT,EAAiBH,QAAjB,CAFJ,IAIAvL,IAAI,CAACoI,GAAL,CACIpI,IAAI,CAAC4L,GAAL,CAASJ,MAAT,EAAiBC,QAAjB,CADJ,EAEIzL,IAAI,CAAC4L,GAAL,CAASF,MAAT,EAAiBH,QAAjB,CAFJ,CAPV;AAWA,cAAIlK,CAAC,SAAL;AACA;;AACA,cAAIsK,OAAO,GAAG,CAAd,EAAiB;AACb,iBAAKtK,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG2J,SAAS,CAAC,CAAD,CAAT,CAAavJ,MAA7B,EAAqCJ,CAAC,EAAtC,EAA0C;AACtC,kBAAIgK,MAAM,CAAChK,CAAD,CAAN,IAAa,IAAjB,EAAuB;AACnBgK,sBAAM,CAAChK,CAAD,CAAN,GAAY,CAAZ;AACH;;AACDgK,oBAAM,CAAChK,CAAD,CAAN,IAAcsK,OAAO,GAAGP,QAAX,GAAuBJ,SAAS,CAACrD,CAAD,CAAT,CAAatG,CAAb,CAApC;AACH;AACJ;AACD;;AACH;;AAED,YAAMwK,SAAS,GAAG,IAAIlD,UAAJ,CAAeqC,SAAS,CAAC,CAAD,CAAT,CAAavJ,MAA5B,CAAlB;AACA,YAAIqK,CAAC,SAAL;;AAEA,aAAKA,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGd,SAAS,CAAC,CAAD,CAAT,CAAavJ,MAA7B,EAAqCqK,CAAC,EAAtC,EAA0C;AACtCD,mBAAS,CAACC,CAAD,CAAT,GAAeT,MAAM,CAACS,CAAD,CAArB;AACH;;AAEDZ,iBAAS,CAACpH,IAAV,CAAe+H,SAAf;AACH;;AAED,aAAOX,SAAP;AACH","file":"wavesurfer.spectrogram.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"spectrogram\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"spectrogram\"] = factory();\n\telse\n\t\troot[\"WaveSurfer\"] = root[\"WaveSurfer\"] || {}, root[\"WaveSurfer\"][\"spectrogram\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"localhost:8080/dist/plugin/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/plugin/spectrogram.js\");\n","/**\r\n * Calculate FFT - Based on https://github.com/corbanbrook/dsp.js\r\n */\r\n/* eslint-disable complexity, no-redeclare, no-var, one-var */\r\nconst FFT = function(bufferSize, sampleRate, windowFunc, alpha) {\r\n    this.bufferSize = bufferSize;\r\n    this.sampleRate = sampleRate;\r\n    this.bandwidth = (2 / bufferSize) * (sampleRate / 2);\r\n\r\n    this.sinTable = new Float32Array(bufferSize);\r\n    this.cosTable = new Float32Array(bufferSize);\r\n    this.windowValues = new Float32Array(bufferSize);\r\n    this.reverseTable = new Uint32Array(bufferSize);\r\n\r\n    this.peakBand = 0;\r\n    this.peak = 0;\r\n\r\n    var i;\r\n    switch (windowFunc) {\r\n        case 'bartlett':\r\n            for (i = 0; i < bufferSize; i++) {\r\n                this.windowValues[i] =\r\n                    (2 / (bufferSize - 1)) *\r\n                    ((bufferSize - 1) / 2 - Math.abs(i - (bufferSize - 1) / 2));\r\n            }\r\n            break;\r\n        case 'bartlettHann':\r\n            for (i = 0; i < bufferSize; i++) {\r\n                this.windowValues[i] =\r\n                    0.62 -\r\n                    0.48 * Math.abs(i / (bufferSize - 1) - 0.5) -\r\n                    0.38 * Math.cos((Math.PI * 2 * i) / (bufferSize - 1));\r\n            }\r\n            break;\r\n        case 'blackman':\r\n            alpha = alpha || 0.16;\r\n            for (i = 0; i < bufferSize; i++) {\r\n                this.windowValues[i] =\r\n                    (1 - alpha) / 2 -\r\n                    0.5 * Math.cos((Math.PI * 2 * i) / (bufferSize - 1)) +\r\n                    (alpha / 2) *\r\n                        Math.cos((4 * Math.PI * i) / (bufferSize - 1));\r\n            }\r\n            break;\r\n        case 'cosine':\r\n            for (i = 0; i < bufferSize; i++) {\r\n                this.windowValues[i] = Math.cos(\r\n                    (Math.PI * i) / (bufferSize - 1) - Math.PI / 2\r\n                );\r\n            }\r\n            break;\r\n        case 'gauss':\r\n            alpha = alpha || 0.25;\r\n            for (i = 0; i < bufferSize; i++) {\r\n                this.windowValues[i] = Math.pow(\r\n                    Math.E,\r\n                    -0.5 *\r\n                        Math.pow(\r\n                            (i - (bufferSize - 1) / 2) /\r\n                                ((alpha * (bufferSize - 1)) / 2),\r\n                            2\r\n                        )\r\n                );\r\n            }\r\n            break;\r\n        case 'hamming':\r\n            for (i = 0; i < bufferSize; i++) {\r\n                this.windowValues[i] =\r\n                    (0.54 - 0.46) *\r\n                    Math.cos((Math.PI * 2 * i) / (bufferSize - 1));\r\n            }\r\n            break;\r\n        case 'hann':\r\n        case undefined:\r\n            for (i = 0; i < bufferSize; i++) {\r\n                this.windowValues[i] =\r\n                    0.5 * (1 - Math.cos((Math.PI * 2 * i) / (bufferSize - 1)));\r\n            }\r\n            break;\r\n        case 'lanczoz':\r\n            for (i = 0; i < bufferSize; i++) {\r\n                this.windowValues[i] =\r\n                    Math.sin(Math.PI * ((2 * i) / (bufferSize - 1) - 1)) /\r\n                    (Math.PI * ((2 * i) / (bufferSize - 1) - 1));\r\n            }\r\n            break;\r\n        case 'rectangular':\r\n            for (i = 0; i < bufferSize; i++) {\r\n                this.windowValues[i] = 1;\r\n            }\r\n            break;\r\n        case 'triangular':\r\n            for (i = 0; i < bufferSize; i++) {\r\n                this.windowValues[i] =\r\n                    (2 / bufferSize) *\r\n                    (bufferSize / 2 - Math.abs(i - (bufferSize - 1) / 2));\r\n            }\r\n            break;\r\n        default:\r\n            throw Error(\"No such window function '\" + windowFunc + \"'\");\r\n    }\r\n\r\n    var limit = 1;\r\n    var bit = bufferSize >> 1;\r\n    var i;\r\n\r\n    while (limit < bufferSize) {\r\n        for (i = 0; i < limit; i++) {\r\n            this.reverseTable[i + limit] = this.reverseTable[i] + bit;\r\n        }\r\n\r\n        limit = limit << 1;\r\n        bit = bit >> 1;\r\n    }\r\n\r\n    for (i = 0; i < bufferSize; i++) {\r\n        this.sinTable[i] = Math.sin(-Math.PI / i);\r\n        this.cosTable[i] = Math.cos(-Math.PI / i);\r\n    }\r\n\r\n    this.calculateSpectrum = function(buffer) {\r\n        // Locally scope variables for speed up\r\n        var bufferSize = this.bufferSize,\r\n            cosTable = this.cosTable,\r\n            sinTable = this.sinTable,\r\n            reverseTable = this.reverseTable,\r\n            real = new Float32Array(bufferSize),\r\n            imag = new Float32Array(bufferSize),\r\n            bSi = 2 / this.bufferSize,\r\n            sqrt = Math.sqrt,\r\n            rval,\r\n            ival,\r\n            mag,\r\n            spectrum = new Float32Array(bufferSize / 2);\r\n\r\n        var k = Math.floor(Math.log(bufferSize) / Math.LN2);\r\n\r\n        if (Math.pow(2, k) !== bufferSize) {\r\n            throw 'Invalid buffer size, must be a power of 2.';\r\n        }\r\n        if (bufferSize !== buffer.length) {\r\n            throw 'Supplied buffer is not the same size as defined FFT. FFT Size: ' +\r\n                bufferSize +\r\n                ' Buffer Size: ' +\r\n                buffer.length;\r\n        }\r\n\r\n        var halfSize = 1,\r\n            phaseShiftStepReal,\r\n            phaseShiftStepImag,\r\n            currentPhaseShiftReal,\r\n            currentPhaseShiftImag,\r\n            off,\r\n            tr,\r\n            ti,\r\n            tmpReal;\r\n\r\n        for (var i = 0; i < bufferSize; i++) {\r\n            real[i] =\r\n                buffer[reverseTable[i]] * this.windowValues[reverseTable[i]];\r\n            imag[i] = 0;\r\n        }\r\n\r\n        while (halfSize < bufferSize) {\r\n            phaseShiftStepReal = cosTable[halfSize];\r\n            phaseShiftStepImag = sinTable[halfSize];\r\n\r\n            currentPhaseShiftReal = 1;\r\n            currentPhaseShiftImag = 0;\r\n\r\n            for (var fftStep = 0; fftStep < halfSize; fftStep++) {\r\n                var i = fftStep;\r\n\r\n                while (i < bufferSize) {\r\n                    off = i + halfSize;\r\n                    tr =\r\n                        currentPhaseShiftReal * real[off] -\r\n                        currentPhaseShiftImag * imag[off];\r\n                    ti =\r\n                        currentPhaseShiftReal * imag[off] +\r\n                        currentPhaseShiftImag * real[off];\r\n\r\n                    real[off] = real[i] - tr;\r\n                    imag[off] = imag[i] - ti;\r\n                    real[i] += tr;\r\n                    imag[i] += ti;\r\n\r\n                    i += halfSize << 1;\r\n                }\r\n\r\n                tmpReal = currentPhaseShiftReal;\r\n                currentPhaseShiftReal =\r\n                    tmpReal * phaseShiftStepReal -\r\n                    currentPhaseShiftImag * phaseShiftStepImag;\r\n                currentPhaseShiftImag =\r\n                    tmpReal * phaseShiftStepImag +\r\n                    currentPhaseShiftImag * phaseShiftStepReal;\r\n            }\r\n\r\n            halfSize = halfSize << 1;\r\n        }\r\n\r\n        for (var i = 0, N = bufferSize / 2; i < N; i++) {\r\n            rval = real[i];\r\n            ival = imag[i];\r\n            mag = bSi * sqrt(rval * rval + ival * ival);\r\n\r\n            if (mag > this.peak) {\r\n                this.peakBand = i;\r\n                this.peak = mag;\r\n            }\r\n            spectrum[i] = mag;\r\n        }\r\n        return spectrum;\r\n    };\r\n};\r\n/* eslint-enable complexity, no-redeclare, no-var, one-var */\r\n\r\n/**\r\n * @typedef {Object} SpectrogramPluginParams\r\n * @property {string|HTMLElement} container Selector of element or element in\r\n * which to render\r\n * @property {number} fftSamples=512 Number of samples to fetch to FFT. Must be\r\n * a power of 2.\r\n * @property {boolean} labels Set to true to display frequency labels.\r\n * @property {number} noverlap Size of the overlapping window. Must be <\r\n * fftSamples. Auto deduced from canvas size by default.\r\n * @property {string} windowFunc='hann' The window function to be used. One of\r\n * these: `'bartlett'`, `'bartlettHann'`, `'blackman'`, `'cosine'`, `'gauss'`,\r\n * `'hamming'`, `'hann'`, `'lanczoz'`, `'rectangular'`, `'triangular'`\r\n * @property {?number} alpha Some window functions have this extra value.\r\n * (Between 0 and 1)\r\n * @property {number} pixelRatio=wavesurfer.params.pixelRatio to control the\r\n * size of the spectrogram in relation with its canvas. 1 = Draw on the whole\r\n * canvas. 2 = Draw on a quarter (1/2 the length and 1/2 the width)\r\n * @property {?boolean} deferInit Set to true to manually call\r\n * `initPlugin('spectrogram')`\r\n * @property {?number[][]} colorMap A 256 long array of 4-element arrays.\r\n * Each entry should contain a float between 0 and 1 and specify\r\n * r, g, b, and alpha.\r\n */\r\n\r\n/**\r\n * Render a spectrogram visualisation of the audio.\r\n *\r\n * @implements {PluginClass}\r\n * @extends {Observer}\r\n * @example\r\n * // es6\r\n * import SpectrogramPlugin from 'wavesurfer.spectrogram.js';\r\n *\r\n * // commonjs\r\n * var SpectrogramPlugin = require('wavesurfer.spectrogram.js');\r\n *\r\n * // if you are using <script> tags\r\n * var SpectrogramPlugin = window.WaveSurfer.spectrogram;\r\n *\r\n * // ... initialising wavesurfer with the plugin\r\n * var wavesurfer = WaveSurfer.create({\r\n *   // wavesurfer options ...\r\n *   plugins: [\r\n *     SpectrogramPlugin.create({\r\n *       // plugin options ...\r\n *     })\r\n *   ]\r\n * });\r\n */\r\nexport default class SpectrogramPlugin {\r\n    /**\r\n     * Spectrogram plugin definition factory\r\n     *\r\n     * This function must be used to create a plugin definition which can be\r\n     * used by wavesurfer to correctly instantiate the plugin.\r\n     *\r\n     * @param  {SpectrogramPluginParams} params Parameters used to initialise the plugin\r\n     * @return {PluginDefinition} An object representing the plugin.\r\n     */\r\n    static create(params) {\r\n        return {\r\n            name: 'spectrogram',\r\n            deferInit: params && params.deferInit ? params.deferInit : false,\r\n            params: params,\r\n            staticProps: {\r\n                FFT: FFT\r\n            },\r\n            instance: SpectrogramPlugin\r\n        };\r\n    }\r\n\r\n    constructor(params, ws) {\r\n        this.params = params;\r\n        this.wavesurfer = ws;\r\n        this.util = ws.util;\r\n\r\n        this.frequenciesDataUrl = params.frequenciesDataUrl;\r\n        this._onScroll = e => {\r\n            this.updateScroll(e);\r\n        };\r\n        this._onRender = () => {\r\n            this.render();\r\n        };\r\n        this._onWrapperClick = e => {\r\n            this._wrapperClickHandler(e);\r\n        };\r\n        this._onReady = () => {\r\n            const drawer = (this.drawer = ws.drawer);\r\n\r\n            this.container =\r\n                'string' == typeof params.container\r\n                    ? document.querySelector(params.container)\r\n                    : params.container;\r\n\r\n            if (!this.container) {\r\n                throw Error('No container for WaveSurfer spectrogram');\r\n            }\r\n            if (params.colorMap) {\r\n                if (params.colorMap.length < 256) {\r\n                    throw new Error('Colormap must contain 256 elements');\r\n                }\r\n                for (let i = 0; i < params.colorMap.length; i++) {\r\n                    const cmEntry = params.colorMap[i];\r\n                    if (cmEntry.length !== 4) {\r\n                        throw new Error(\r\n                            'ColorMap entries must contain 4 values'\r\n                        );\r\n                    }\r\n                }\r\n                this.colorMap = params.colorMap;\r\n            } else {\r\n                this.colorMap = [];\r\n                for (let i = 0; i < 256; i++) {\r\n                    const val = (255 - i) / 256;\r\n                    this.colorMap.push([val, val, val, 1]);\r\n                }\r\n            }\r\n            this.width = drawer.width;\r\n            this.pixelRatio = this.params.pixelRatio || ws.params.pixelRatio;\r\n            this.fftSamples =\r\n                this.params.fftSamples || ws.params.fftSamples || 512;\r\n            this.height = this.fftSamples / 2;\r\n            this.noverlap = params.noverlap;\r\n            this.windowFunc = params.windowFunc;\r\n            this.alpha = params.alpha;\r\n\r\n            this.createWrapper();\r\n            this.createCanvas();\r\n            this.render();\r\n\r\n            drawer.wrapper.addEventListener('scroll', this._onScroll);\r\n            ws.on('redraw', this._onRender);\r\n        };\r\n    }\r\n\r\n    init() {\r\n        // Check if wavesurfer is ready\r\n        if (this.wavesurfer.isReady) {\r\n            this._onReady();\r\n        } else {\r\n            this.wavesurfer.once('ready', this._onReady);\r\n        }\r\n    }\r\n\r\n    destroy() {\r\n        this.unAll();\r\n        this.wavesurfer.un('ready', this._onReady);\r\n        this.wavesurfer.un('redraw', this._onRender);\r\n        this.drawer.wrapper.removeEventListener('scroll', this._onScroll);\r\n        this.wavesurfer = null;\r\n        this.util = null;\r\n        this.params = null;\r\n        if (this.wrapper) {\r\n            this.wrapper.removeEventListener('click', this._onWrapperClick);\r\n            this.wrapper.parentNode.removeChild(this.wrapper);\r\n            this.wrapper = null;\r\n        }\r\n    }\r\n\r\n    createWrapper() {\r\n        const prevSpectrogram = this.container.querySelector('spectrogram');\r\n        if (prevSpectrogram) {\r\n            this.container.removeChild(prevSpectrogram);\r\n        }\r\n        const wsParams = this.wavesurfer.params;\r\n        this.wrapper = document.createElement('spectrogram');\r\n        // if labels are active\r\n        if (this.params.labels) {\r\n            const labelsEl = (this.labelsEl = document.createElement('canvas'));\r\n            labelsEl.classList.add('spec-labels');\r\n            this.drawer.style(labelsEl, {\r\n                left: 0,\r\n                position: 'absolute',\r\n                zIndex: 9,\r\n                height: `${this.height / this.pixelRatio}px`,\r\n                width: `${55 / this.pixelRatio}px`\r\n            });\r\n            this.wrapper.appendChild(labelsEl);\r\n            this.loadLabels(\r\n                'rgba(68,68,68,0.5)',\r\n                '12px',\r\n                '10px',\r\n                '',\r\n                '#fff',\r\n                '#f7f7f7',\r\n                'center',\r\n                '#specLabels'\r\n            );\r\n        }\r\n\r\n        this.drawer.style(this.wrapper, {\r\n            display: 'block',\r\n            position: 'relative',\r\n            userSelect: 'none',\r\n            webkitUserSelect: 'none',\r\n            height: `${this.height / this.pixelRatio}px`\r\n        });\r\n\r\n        if (wsParams.fillParent || wsParams.scrollParent) {\r\n            this.drawer.style(this.wrapper, {\r\n                width: '100%',\r\n                overflowX: 'hidden',\r\n                overflowY: 'hidden'\r\n            });\r\n        }\r\n        this.container.appendChild(this.wrapper);\r\n\r\n        this.wrapper.addEventListener('click', this._onWrapperClick);\r\n    }\r\n\r\n    _wrapperClickHandler(event) {\r\n        event.preventDefault();\r\n\r\n        const relX = 'offsetX' in event ? event.offsetX : event.layerX;\r\n        this.fireEvent('click', relX / this.scrollWidth || 0);\r\n    }\r\n\r\n    createCanvas() {\r\n        const canvas = (this.canvas = this.wrapper.appendChild(\r\n            document.createElement('canvas')\r\n        ));\r\n\r\n        this.spectrCc = canvas.getContext('2d');\r\n\r\n        this.util.style(canvas, {\r\n            position: 'absolute',\r\n            zIndex: 4\r\n        });\r\n    }\r\n\r\n    render() {\r\n        this.updateCanvasStyle();\r\n\r\n        if (this.frequenciesDataUrl) {\r\n            this.loadFrequenciesData(this.frequenciesDataUrl);\r\n        } else {\r\n            this.getFrequencies(this.drawSpectrogram);\r\n        }\r\n    }\r\n\r\n    updateCanvasStyle() {\r\n        const width = Math.round(this.width / this.pixelRatio) + 'px';\r\n        this.canvas.width = this.width;\r\n        this.canvas.height = this.height;\r\n        this.canvas.style.width = width;\r\n    }\r\n\r\n    drawSpectrogram(frequenciesData, my) {\r\n        const spectrCc = my.spectrCc;\r\n        const length = my.wavesurfer.backend.getDuration();\r\n        const height = my.height;\r\n        const pixels = my.resample(frequenciesData);\r\n        const heightFactor = my.buffer ? 2 / my.buffer.numberOfChannels : 1;\r\n        let i;\r\n        let j;\r\n\r\n        for (i = 0; i < pixels.length; i++) {\r\n            for (j = 0; j < pixels[i].length; j++) {\r\n                const colorMap = my.colorMap[pixels[i][j]];\r\n                my.spectrCc.fillStyle =\r\n                    'rgba(' +\r\n                    colorMap[0] * 256 +\r\n                    ', ' +\r\n                    colorMap[1] * 256 +\r\n                    ', ' +\r\n                    colorMap[2] * 256 +\r\n                    ',' +\r\n                    colorMap[3] +\r\n                    ')';\r\n                my.spectrCc.fillRect(\r\n                    i,\r\n                    height - j * heightFactor,\r\n                    1,\r\n                    heightFactor\r\n                );\r\n            }\r\n        }\r\n    }\r\n\r\n    getFrequencies(callback) {\r\n        const fftSamples = this.fftSamples;\r\n        const buffer = (this.buffer = this.wavesurfer.backend.buffer);\r\n        const channelOne = buffer.getChannelData(0);\r\n        const bufferLength = buffer.length;\r\n        const sampleRate = buffer.sampleRate;\r\n        const frequencies = [];\r\n\r\n        if (!buffer) {\r\n            this.fireEvent('error', 'Web Audio buffer is not available');\r\n            return;\r\n        }\r\n\r\n        let noverlap = this.noverlap;\r\n        if (!noverlap) {\r\n            const uniqueSamplesPerPx = buffer.length / this.canvas.width;\r\n            noverlap = Math.max(0, Math.round(fftSamples - uniqueSamplesPerPx));\r\n        }\r\n\r\n        const fft = new FFT(\r\n            fftSamples,\r\n            sampleRate,\r\n            this.windowFunc,\r\n            this.alpha\r\n        );\r\n        const maxSlicesCount = Math.floor(\r\n            bufferLength / (fftSamples - noverlap)\r\n        );\r\n        let currentOffset = 0;\r\n\r\n        while (currentOffset + fftSamples < channelOne.length) {\r\n            const segment = channelOne.slice(\r\n                currentOffset,\r\n                currentOffset + fftSamples\r\n            );\r\n            const spectrum = fft.calculateSpectrum(segment);\r\n            const array = new Uint8Array(fftSamples / 2);\r\n            let j;\r\n            for (j = 0; j < fftSamples / 2; j++) {\r\n                array[j] = Math.max(-255, Math.log10(spectrum[j]) * 45);\r\n            }\r\n            frequencies.push(array);\r\n            currentOffset += fftSamples - noverlap;\r\n        }\r\n        callback(frequencies, this);\r\n    }\r\n\r\n    loadFrequenciesData(url) {\r\n        const ajax = this.util.ajax({ url: url });\r\n\r\n        ajax.on('success', data =>\r\n            this.drawSpectrogram(JSON.parse(data), this)\r\n        );\r\n        ajax.on('error', e =>\r\n            this.fireEvent('error', 'XHR error: ' + e.target.statusText)\r\n        );\r\n\r\n        return ajax;\r\n    }\r\n\r\n    freqType(freq) {\r\n        return freq >= 1000 ? (freq / 1000).toFixed(1) : Math.round(freq);\r\n    }\r\n\r\n    unitType(freq) {\r\n        return freq >= 1000 ? 'KHz' : 'Hz';\r\n    }\r\n\r\n    loadLabels(\r\n        bgFill,\r\n        fontSizeFreq,\r\n        fontSizeUnit,\r\n        fontType,\r\n        textColorFreq,\r\n        textColorUnit,\r\n        textAlign,\r\n        container\r\n    ) {\r\n        const frequenciesHeight = this.height;\r\n        bgFill = bgFill || 'rgba(68,68,68,0)';\r\n        fontSizeFreq = fontSizeFreq || '12px';\r\n        fontSizeUnit = fontSizeUnit || '10px';\r\n        fontType = fontType || 'Helvetica';\r\n        textColorFreq = textColorFreq || '#fff';\r\n        textColorUnit = textColorUnit || '#fff';\r\n        textAlign = textAlign || 'center';\r\n        container = container || '#specLabels';\r\n        const getMaxY = frequenciesHeight || 512;\r\n        const labelIndex = 5 * (getMaxY / 256);\r\n        const freqStart = 0;\r\n        const step =\r\n            (this.wavesurfer.backend.ac.sampleRate / 2 - freqStart) /\r\n            labelIndex;\r\n\r\n        const ctx = this.labelsEl.getContext('2d');\r\n        this.labelsEl.height = this.height;\r\n        this.labelsEl.width = 55;\r\n\r\n        ctx.fillStyle = bgFill;\r\n        ctx.fillRect(0, 0, 55, getMaxY);\r\n        ctx.fill();\r\n        let i;\r\n\r\n        for (i = 0; i <= labelIndex; i++) {\r\n            ctx.textAlign = textAlign;\r\n            ctx.textBaseline = 'middle';\r\n\r\n            const freq = freqStart + step * i;\r\n            const index = Math.round(\r\n                (freq / (this.sampleRate / 2)) * this.fftSamples\r\n            );\r\n            const label = this.freqType(freq);\r\n            const units = this.unitType(freq);\r\n            const x = 16;\r\n            const yLabelOffset = 2;\r\n\r\n            if (i == 0) {\r\n                ctx.fillStyle = textColorUnit;\r\n                ctx.font = fontSizeUnit + ' ' + fontType;\r\n                ctx.fillText(units, x + 24, getMaxY + i - 10);\r\n                ctx.fillStyle = textColorFreq;\r\n                ctx.font = fontSizeFreq + ' ' + fontType;\r\n                ctx.fillText(label, x, getMaxY + i - 10);\r\n            } else {\r\n                ctx.fillStyle = textColorUnit;\r\n                ctx.font = fontSizeUnit + ' ' + fontType;\r\n                ctx.fillText(units, x + 24, getMaxY - i * 50 + yLabelOffset);\r\n                ctx.fillStyle = textColorFreq;\r\n                ctx.font = fontSizeFreq + ' ' + fontType;\r\n                ctx.fillText(label, x, getMaxY - i * 50 + yLabelOffset);\r\n            }\r\n        }\r\n    }\r\n\r\n    updateScroll(e) {\r\n        if (this.wrapper) {\r\n            this.wrapper.scrollLeft = e.target.scrollLeft;\r\n        }\r\n    }\r\n\r\n    resample(oldMatrix) {\r\n        const columnsNumber = this.width;\r\n        const newMatrix = [];\r\n\r\n        const oldPiece = 1 / oldMatrix.length;\r\n        const newPiece = 1 / columnsNumber;\r\n        let i;\r\n\r\n        for (i = 0; i < columnsNumber; i++) {\r\n            const column = new Array(oldMatrix[0].length);\r\n            let j;\r\n\r\n            for (j = 0; j < oldMatrix.length; j++) {\r\n                const oldStart = j * oldPiece;\r\n                const oldEnd = oldStart + oldPiece;\r\n                const newStart = i * newPiece;\r\n                const newEnd = newStart + newPiece;\r\n\r\n                const overlap =\r\n                    oldEnd <= newStart || newEnd <= oldStart\r\n                        ? 0\r\n                        : Math.min(\r\n                              Math.max(oldEnd, newStart),\r\n                              Math.max(newEnd, oldStart)\r\n                          ) -\r\n                          Math.max(\r\n                              Math.min(oldEnd, newStart),\r\n                              Math.min(newEnd, oldStart)\r\n                          );\r\n                let k;\r\n                /* eslint-disable max-depth */\r\n                if (overlap > 0) {\r\n                    for (k = 0; k < oldMatrix[0].length; k++) {\r\n                        if (column[k] == null) {\r\n                            column[k] = 0;\r\n                        }\r\n                        column[k] += (overlap / newPiece) * oldMatrix[j][k];\r\n                    }\r\n                }\r\n                /* eslint-enable max-depth */\r\n            }\r\n\r\n            const intColumn = new Uint8Array(oldMatrix[0].length);\r\n            let m;\r\n\r\n            for (m = 0; m < oldMatrix[0].length; m++) {\r\n                intColumn[m] = column[m];\r\n            }\r\n\r\n            newMatrix.push(intColumn);\r\n        }\r\n\r\n        return newMatrix;\r\n    }\r\n}\r\n"],"sourceRoot":""}